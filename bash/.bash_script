# bash function

function gtp {
if [ $# -eq 1 ]; then
    MES=$1
    git add .
    if [ -e .gitlab-ci.yml ]; then
        git add .gitlab-ci.yml
    fi
    git commit -m $MES
    git push
else
 echo "Il manque un parametre"
fi
}

function gitcomment () 
{
    if [ -z ${GITCOMMENT} ];
        then 
            echo "no git comment set"
            read -p "your commit comment: " GITCOMMNENT
            echo ${GITCOMMENT}
            echo "avant : ${GITCOMMENT}"
            export GITCOMMENT="${GITCOMMENT}"
            echo "apr√®s : ${GITCOMMENT}"
        else
            echo "commit comment : ${GITCOMMNENT}"
            read -p "change it ? (y/n)" change
            case change in
                "y") read -p "your commit comment: " GITCOMMNENT && export GITCOMMNENT;;
                * ) echo "git comment : ${comment}" ;;
            esac
    fi
    git commit -am "$GITCOMMNENT"
}
function testgitrepo ()
{
    if [ -d "./.git" ];
        then 
            echo "in git repos"
            gitcomment
        else
            echo "not in a git repo : .git not found"
            # exit
    fi
}


